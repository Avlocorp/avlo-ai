import{z as E,u as w,x as M,j as e,B as $,r as N,t as F,y as C}from"./index-DPJpM76q.js";import{L as I}from"./index-BCC9mltJ.js";import{S as D}from"./index-Cu4eBb8-.js";import{R as q}from"./RadarChart-D5KehtwF.js";import{A as d}from"./index-5-U3fXRT.js";import{E as U}from"./eye-CZwNeZVC.js";import{S as W}from"./useBreakpoint-CymGIX01.js";import{m as S}from"./proxy-B_r9RGkB.js";import{C as H}from"./index-BOkOjOHF.js";import{F as G}from"./Table-DBR-Ln6h.js";import{M as K}from"./index-BvICwX4g.js";import"./index-Bu88h86I.js";import"./index-BV9ecpN8.js";import"./PurePanel-DmuLXhi4.js";import"./useSize-DND3t0aL.js";import"./index-WMb-X793.js";import"./useMergedState-CSfwPUM-.js";import"./EllipsisOutlined-BD0YvPch.js";import"./Overflow-Cjb5NB4R.js";import"./roundedArrow-ySD6W0-A.js";import"./context-C9R0sSvt.js";import"./button-lO7XdXyl.js";import"./index--7a_W_9H.js";import"./collapse-BbEVqHco.js";import"./index-Da3FNLPO.js";import"./generateCategoricalChart-Dhq0ZDNw.js";import"./responsiveObserver-C7S2khFd.js";import"./index-DSan05hS.js";import"./SearchOutlined-odOqp1gV.js";import"./index-CEm8Loj7.js";import"./useIcons-DvB46hj-.js";import"./CheckOutlined-C7HtwBlR.js";import"./CloseOutlined-Bs9BTzBM.js";import"./DownOutlined-C_92woN3.js";import"./Skeleton-C7BJEIB6.js";import"./index-D2xkBgQN.js";import"./styleChecker-CQu6Uniq.js";import"./index-DxEnr912.js";import"./Checkbox-D-9_4-G-.js";import"./Pagination-ZTiU5Rel.js";import"./index-ZaNRnAce.js";import"./TextArea-DlB-ovtE.js";import"./ExclamationCircleFilled-C-Rs3AQT.js";import"./InfoCircleFilled-CHTLRjTa.js";import"./context-CMJBuI1T.js";/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],J=E("Medal",Q);function V({overall_performance_score:c,communication_skills_score:a,customer_management_score:i,problem_handling_score:m,protocol_adherence_score:n}){const{t:o}=w(),{theme:r}=M(),p=[{metric:o("Overall Score"),series:c||0},{metric:o("Communication"),series:a||0},{metric:o("Customer Management"),series:i||0},{metric:o("Problem Handling"),series:m||0},{metric:o("Protocol Adherence"),series:n||0}],f=r==="dark";return e.jsxs("div",{style:{backgroundColor:f?"#374151":"#ffffff",borderRadius:"8px",padding:"16px",border:f?"1px solid #4b5563":"1px solid #d1d5db"},className:"radar-chart-container",children:[e.jsx("div",{style:{color:f?"#f3f4f6":"#111827",fontSize:"18px",fontWeight:"600",marginBottom:"16px"},children:o("Performance metrics")}),e.jsx(q,{dataRadar:p,theme:r})]})}const x=c=>{let a=0;for(let o=0;o<(c==null?void 0:c.length);o++)a=c.charCodeAt(o)+((a<<5)-a);const i=230,m=25+Math.abs(a)%70,n=45+Math.abs(a)%30;return`hsl(${i}, ${m}%, ${n}%)`},X=[{value:"first_success_speed",label:"First Success Speed"},{value:"first_call_connection_ratio",label:"First Call Connection Ratio"},{value:"no_connection_rate",label:"No Connection Rate"},{value:"pickup_rate",label:"Pickup Rate"},{value:"avg_attempts_to_connect",label:"Avg Attempts to Connect"},{value:"avg_ring_count",label:"Avg Ring Count"},{value:"silence_rate",label:"Silence Rate"},{value:"listening_rate",label:"Listening Rate"},{value:"avg_talk_time",label:"Avg Talk Time"},{value:"sales_score",label:"Sales Score"}],Ue=()=>{var h,b,u,g,y,k,j,_,v;const{data:c}=$({per_page:500,search:""}),[a,i]=N.useState(null),[m,n]=N.useState(!1),{t:o}=w(),{theme:r}=M(),p=((h=c==null?void 0:c.data)==null?void 0:h.slice(0,3))||[],f=()=>r==="dark"?{algorithm:C.darkAlgorithm,token:{colorPrimary:"#4338ca",borderRadius:8,colorBgContainer:"#374151",colorBgElevated:"#374151",colorBgLayout:"#1f2937",colorText:"#f3f4f6",colorTextSecondary:"#9ca3af",colorBorder:"#4b5563",colorBorderSecondary:"#374151"}}:{algorithm:C.defaultAlgorithm,token:{colorPrimary:"#4338ca",borderRadius:8,colorBgContainer:"#ffffff",colorBgElevated:"#ffffff",colorBgLayout:"#f9fafb",colorText:"#111827",colorTextSecondary:"#6b7280",colorBorder:"#d1d5db"}},B={padding:"32px",display:"flex",flexDirection:"column",minHeight:"calc(100vh - 64px)",backgroundColor:r==="dark"?"#1f2937":"#f9fafb",color:r==="dark"?"#f3f4f6":"#111827"},A={marginBottom:"24px",display:"flex",alignItems:"center",justifyContent:"space-between"},R={fontSize:"24px",fontWeight:"600",color:r==="dark"?"#f3f4f6":"#1f2937",display:"flex",alignItems:"center",margin:0},T={color:r==="dark"?"#9ca3af":"#6b7280",marginTop:"8px"},z={marginBottom:"24px",maxWidth:"400px"},L={display:"block",fontSize:"16px",fontWeight:"500",color:r==="dark"?"#f3f4f6":"#374151",marginBottom:"8px"},P=[{title:o("No."),key:"index",render:(t,s,l)=>e.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium ${l===0?"bg-yellow-500 text-white":l===1?"bg-gray-300 text-gray-800":l===2?"bg-amber-700 text-white":r==="dark"?"bg-gray-600 text-gray-200":"bg-gray-200 text-gray-600"}`,children:l+1})},{title:o("Name"),dataIndex:"name",key:"name",render:(t,s)=>{const l=(s==null?void 0:s.name)||"N";return e.jsxs("div",{className:"flex items-center",children:[s!=null&&s.photo?e.jsx(d,{src:s.photo,className:"mr-3"}):e.jsx(d,{className:"mr-3",style:{backgroundColor:x(l)},children:l.substring(0,2).toUpperCase()}),e.jsx("span",{className:"font-medium",style:{color:r==="dark"?"#f3f4f6":"#111827"},children:l})]})}},{title:o("All calls"),dataIndex:"all_calls",key:"all_calls",render:t=>e.jsx("span",{style:{color:r==="dark"?"#9ca3af":"#71717a"},children:t||0})},{title:o("Overall performance score"),dataIndex:"avarege_score",key:"avarege_score",render:(t,s)=>{var l;return e.jsx("span",{style:{color:r==="dark"?"#f3f4f6":"#111827"},children:((l=s.avarege_score)==null?void 0:l.overall_performance_score)||"0"})}},{title:o("Actions"),key:"actions",render:(t,s)=>e.jsx("button",{className:"flex space-x-2 p-2 rounded-md transition-colors duration-200",style:{backgroundColor:r==="dark"?"#065f46":"#ecfdf5",border:"none",cursor:"pointer"},onMouseEnter:l=>{l.currentTarget.style.backgroundColor=r==="dark"?"#047857":"#d1fae5"},onMouseLeave:l=>{l.currentTarget.style.backgroundColor=r==="dark"?"#065f46":"#ecfdf5"},onClick:()=>{i(s),n(!0)},children:e.jsx(U,{className:"w-5 h-5",style:{color:r==="dark"?"#10b981":"#059669"}})})}];return e.jsx(F,{theme:f(),children:e.jsxs("div",{style:B,children:[e.jsxs("div",{style:A,children:[e.jsxs("div",{children:[e.jsxs("h1",{style:R,children:[e.jsx(J,{className:"w-7 h-7 text-yellow-500 mr-3"}),o("Leaderboard")]}),e.jsx("p",{style:T,children:o("Performance ranking of all SDRs based on overall score")})]}),e.jsx(I,{})]}),e.jsxs("div",{style:z,children:[e.jsx("label",{htmlFor:"sortMetric",style:L,children:o("Sort by Metric")}),e.jsx(W,{id:"sortMetric",placeholder:o("Sort by Metric"),className:"w-full",size:"large",options:X})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:p.map((t,s)=>{var l;return e.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:e.jsx("div",{className:`shadow-md rounded-xl px-3 transition-all duration-200 ${s===0?"border-2 border-yellow-500":s===1?r==="dark"?"border border-gray-500":"border border-gray-300":"border border-amber-700"}`,style:{backgroundColor:r==="dark"?"#374151":s===0?"#fefce8":s===1?"#f3f4f6":"#fffbeb"},children:e.jsxs("div",{className:"flex items-center h-[95px]",children:[e.jsx("div",{className:`w-10 h-10 text-white rounded-full flex items-center justify-center mr-4 text-xl font-bold ${s===0?"bg-[#F59E0B]":s===1?"bg-[#D1D5DB] text-black":"bg-amber-700"}`,children:s+1}),e.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[t.photo?e.jsx(d,{src:t.photo,alt:t.name,size:48,className:"mr-3"}):e.jsx(d,{size:48,className:"mr-3",style:{backgroundColor:x(t.name)},children:(t.name||"N").substring(0,2).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-semibold",style:{color:r==="dark"?"#f3f4f6":"#111827"},children:t.name}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsxs("span",{className:"text-sm mr-2",style:{color:r==="dark"?"#9ca3af":"#6b7280"},children:[o("Overall performance score"),":"]}),e.jsx("span",{className:"text-lg font-medium",style:{color:r==="dark"?"#f3f4f6":"#111827"},children:((l=t.avarege_score)==null?void 0:l.overall_performance_score)||0})]})]})]})]})})},t.id)})}),e.jsxs(H,{className:"shadow-md mb-6",children:[e.jsx("div",{className:"mb-4",children:e.jsx("h2",{className:"text-lg font-medium",style:{color:r==="dark"?"#f3f4f6":"#1f2937"},children:o("Full Ranking")})}),e.jsx(G,{dataSource:(c==null?void 0:c.data)||[],columns:P,rowKey:"id",pagination:!1,rowClassName:(t,s)=>s<=2?"top-performer":""})]}),e.jsx("div",{className:"mt-auto mb-4",children:e.jsx(D,{context:"sdr"})}),e.jsx(K,{title:e.jsx("span",{style:{color:r==="dark"?"#f3f4f6":"#111827"},children:o("Operator Details")}),open:m,onCancel:()=>{n(!1),i(null)},footer:null,width:800,children:e.jsx("div",{style:{padding:"16px"},children:a&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[a.photo?e.jsx(d,{src:a.photo,size:64}):e.jsx(d,{size:64,style:{backgroundColor:x((a==null?void 0:a.name)||"N")},children:(a.name||"N").substring(0,2).toUpperCase()}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold",style:{color:r==="dark"?"#f3f4f6":"#111827"},children:a.name}),e.jsxs("p",{style:{color:r==="dark"?"#9ca3af":"#6b7280"},children:[o("Email"),": ",(a==null?void 0:a.email)||"N/A"]})]})]}),e.jsx(S.div,{className:"overflow-hidden rounded-lg border",style:{backgroundColor:r==="dark"?"#374151":"#ffffff",borderColor:r==="dark"?"#4b5563":"#e5e7eb"},initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},children:e.jsx("table",{className:"min-w-full text-left text-base",children:e.jsxs("tbody",{children:[e.jsxs("tr",{style:{borderBottom:`1px solid ${r==="dark"?"#4b5563":"#e5e7eb"}`},children:[e.jsx("th",{className:"px-4 py-3 font-medium",style:{backgroundColor:r==="dark"?"#374151":"#f9fafb",color:r==="dark"?"#f3f4f6":"#374151"},children:o("Successfully Calls")}),e.jsx("td",{className:"px-4 py-3",style:{color:r==="dark"?"#d1d5db":"#6b7280"},children:((b=a==null?void 0:a.avarege_score)==null?void 0:b.successfully_calls)||0})]}),e.jsxs("tr",{style:{borderBottom:`1px solid ${r==="dark"?"#4b5563":"#e5e7eb"}`},children:[e.jsx("th",{className:"px-4 py-3 font-medium",style:{backgroundColor:r==="dark"?"#374151":"#f9fafb",color:r==="dark"?"#f3f4f6":"#374151"},children:o("Unsuccessfully Calls")}),e.jsx("td",{className:"px-4 py-3",style:{color:r==="dark"?"#d1d5db":"#6b7280"},children:((u=a==null?void 0:a.avarege_score)==null?void 0:u.unsuccessfully_calls)||0})]}),e.jsxs("tr",{style:{borderBottom:`1px solid ${r==="dark"?"#4b5563":"#e5e7eb"}`},children:[e.jsx("th",{className:"px-4 py-3 font-medium",style:{backgroundColor:r==="dark"?"#374151":"#f9fafb",color:r==="dark"?"#f3f4f6":"#374151"},children:o("All Calls")}),e.jsx("td",{className:"px-4 py-3",style:{color:r==="dark"?"#d1d5db":"#6b7280"},children:(a==null?void 0:a.all_calls)||0})]}),e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 font-medium",style:{backgroundColor:r==="dark"?"#374151":"#f9fafb",color:r==="dark"?"#f3f4f6":"#374151"},children:o("Performance Score")}),e.jsx("td",{className:"px-4 py-3",style:{color:r==="dark"?"#d1d5db":"#6b7280"},children:((g=a==null?void 0:a.avarege_score)==null?void 0:g.overall_performance_score)||0})]})]})})}),e.jsx("div",{className:"mt-6",children:e.jsx(V,{communication_skills_score:((y=a.avarege_score)==null?void 0:y.communication_skills_score)||0,customer_management_score:((k=a.avarege_score)==null?void 0:k.customer_management_score)||0,overall_performance_score:((j=a.avarege_score)==null?void 0:j.overall_performance_score)||0,problem_handling_score:((_=a.avarege_score)==null?void 0:_.problem_handling_score)||0,protocol_adherence_score:((v=a.avarege_score)==null?void 0:v.protocol_adherence_score)||0})})]})})})]})})};export{Ue as default};
