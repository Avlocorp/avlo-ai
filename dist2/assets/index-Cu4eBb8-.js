import{z as k,r as t,j as e,u as $,x as _}from"./index-DPJpM76q.js";import{M as z,u as S,P as A,a as L,L as P,m as R}from"./proxy-B_r9RGkB.js";/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],D=k("ChevronDown",T);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],B=k("ChevronUp",U);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],K=k("CircleStop",V);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],F=k("Mic",q);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],H=k("Send",G);class O extends t.Component{getSnapshotBeforeUpdate(s){const o=this.props.childRef.current;if(o&&s.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=o.offsetHeight||0,r.width=o.offsetWidth||0,r.top=o.offsetTop,r.left=o.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function W({children:c,isPresent:s}){const o=t.useId(),r=t.useRef(null),m=t.useRef({width:0,height:0,top:0,left:0}),{nonce:h}=t.useContext(z);return t.useInsertionEffect(()=>{const{width:y,height:n,top:p,left:l}=m.current;if(s||!r.current||!y||!n)return;r.current.dataset.motionPopId=o;const f=document.createElement("style");return h&&(f.nonce=h),document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${n}px !important;
            top: ${p}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[s]),e.jsx(O,{isPresent:s,childRef:r,sizeRef:m,children:t.cloneElement(c,{ref:r})})}const Z=({children:c,initial:s,isPresent:o,onExitComplete:r,custom:m,presenceAffectsLayout:h,mode:y})=>{const n=S(J),p=t.useId(),l=t.useCallback(d=>{n.set(d,!0);for(const b of n.values())if(!b)return;r&&r()},[n,r]),f=t.useMemo(()=>({id:p,initial:s,isPresent:o,custom:m,onExitComplete:l,register:d=>(n.set(d,!1),()=>n.delete(d))}),h?[Math.random(),l]:[o,l]);return t.useMemo(()=>{n.forEach((d,b)=>n.set(b,!1))},[o]),t.useEffect(()=>{!o&&!n.size&&r&&r()},[o]),y==="popLayout"&&(c=e.jsx(W,{isPresent:o,children:c})),e.jsx(A.Provider,{value:f,children:c})};function J(){return new Map}const N=c=>c.key||"";function M(c){const s=[];return t.Children.forEach(c,o=>{t.isValidElement(o)&&s.push(o)}),s}const Q=({children:c,exitBeforeEnter:s,custom:o,initial:r=!0,onExitComplete:m,presenceAffectsLayout:h=!0,mode:y="sync"})=>{const n=t.useMemo(()=>M(c),[c]),p=n.map(N),l=t.useRef(!0),f=t.useRef(n),d=S(()=>new Map),[b,u]=t.useState(n),[g,w]=t.useState(n);L(()=>{l.current=!1,f.current=n;for(let a=0;a<g.length;a++){const i=N(g[a]);p.includes(i)?d.delete(i):d.get(i)!==!0&&d.set(i,!1)}},[g,p.length,p.join("-")]);const v=[];if(n!==b){let a=[...n];for(let i=0;i<g.length;i++){const x=g[i],j=N(x);p.includes(j)||(a.splice(i,0,x),v.push(x))}y==="wait"&&v.length&&(a=v),w(M(a)),u(n);return}const{forceRender:C}=t.useContext(P);return e.jsx(e.Fragment,{children:g.map(a=>{const i=N(a),x=n===g||p.includes(i),j=()=>{if(d.has(i))d.set(i,!0);else return;let E=!0;d.forEach(I=>{I||(E=!1)}),E&&(C==null||C(),w(f.current),m&&m())};return e.jsx(Z,{isPresent:x,initial:!l.current||r?void 0:!1,custom:x?void 0:o,presenceAffectsLayout:h,mode:y,onExitComplete:x?void 0:j,children:a},i)})})},ee=({context:c="business"})=>{const[s,o]=t.useState([]),[r,m]=t.useState(""),[h,y]=t.useState(!1),[n,p]=t.useState(!1),[l,f]=t.useState(!1),d=t.useRef(null),{t:b}=$(),{theme:u}=_(),g=()=>{var a;(a=d.current)==null||a.scrollIntoView({behavior:"smooth"})};t.useEffect(()=>{l&&g()},[s,l]),t.useEffect(()=>{(s==null?void 0:s.length)>0&&!l&&f(!0)},[s==null?void 0:s.length]);const w=async a=>{if(a.preventDefault(),!r.trim()||h)return;const i={type:"user",content:r};o(x=>[...x,i]),m(""),y(!0),setTimeout(()=>{const x={type:"assistant",content:`This is a simulated response for the ${c} context.`};o(j=>[...j,x]),y(!1)},1e3)},v=()=>p(!n),C=()=>f(!l);return e.jsx("div",{className:"relative w-full max-w-3xl mx-auto",children:e.jsxs(R.div,{initial:!1,animate:{height:(l&&(s==null?void 0:s.length)>0,"auto")},style:{backgroundColor:u==="dark"?"#1f2937":"#ffffff",border:`1px solid ${u==="dark"?"#374151":"#e5e7eb"}`,borderRadius:"12px",boxShadow:u==="dark"?"0 1px 3px rgba(0,0,0,0.3)":"0 1px 3px rgba(0,0,0,0.1)"},children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 rounded-xl cursor-pointer transition-colors",onClick:C,style:{backgroundColor:u==="dark"?"#111827":"#f9fafb"},children:[e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("span",{className:"text-sm font-medium",style:{color:u==="dark"?"#d1d5db":"#374151"},children:b("Ask AI everything about this page")})}),e.jsx("button",{className:"p-1 rounded-full hover:bg-gray-100",style:{backgroundColor:u==="dark"?"transparent":void 0},children:l?e.jsx(D,{className:"w-5 h-5",style:{color:u==="dark"?"#9ca3af":"#6b7280"}}):e.jsx(B,{className:"w-5 h-5",style:{color:u==="dark"?"#9ca3af":"#6b7280"}})})]}),e.jsx(Q,{children:l&&(s==null?void 0:s.length)>0&&e.jsxs(R.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"max-h-[300px] overflow-y-auto p-4 space-y-4",children:[s.map((a,i)=>e.jsx("div",{className:`flex ${a.type==="user"?"justify-end":"justify-start"}`,children:e.jsx("div",{className:"max-w-[80%] rounded-lg p-3",style:{backgroundColor:a.type==="user"?"#4338CA":u==="dark"?"#374151":"#f3f4f6",color:a.type==="user"?"#ffffff":u==="dark"?"#f3f4f6":"#111827"},children:a.content})},i)),h&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"rounded-lg p-3",style:{backgroundColor:u==="dark"?"#374151":"#f3f4f6"},children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce delay-100"}),e.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce delay-200"})]})})}),e.jsx("div",{ref:d})]})}),e.jsx("form",{onSubmit:w,className:"border-t p-4",style:{borderTop:`1px solid ${u==="dark"?"#374151":"#e5e7eb"}`},children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"text",value:r,onChange:a=>m(a.target.value),placeholder:b("Ask anything about the data..."),className:"flex-1 px-1 outline-none bg-transparent",style:{color:u==="dark"?"#f3f4f6":"#111827"},disabled:h||n}),e.jsx("button",{type:"submit",onClick:r.trim()?void 0:v,disabled:h,className:"p-2 rounded-full bg-[#4338CA] text-white hover:bg-indigo-700 transition-colors disabled:opacity-50",children:h?e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):r.trim()?e.jsx(H,{className:"w-5 h-5"}):n?e.jsx(K,{className:"w-5 h-5"}):e.jsx(F,{className:"w-5 h-5"})})]})})]})})};export{Q as A,D as C,F as M,ee as S};
