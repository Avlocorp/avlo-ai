import{j as e,u as g,r as V,W as M,X as b,v as k,a3 as u,al as y,A as E,am as I}from"./index-DPJpM76q.js";import{H as N,C as m,P as Z,a as A,b as R,c as D,R as S}from"./index-Bs5U3e3T.js";import{R as P}from"./RadarChart-D5KehtwF.js";import{A as T}from"./mp3-icon-b0neAAQW.js";import"./index-Bu88h86I.js";import{C as d}from"./index-BOkOjOHF.js";import{D as O}from"./download-BXWC3Len.js";import"./generateCategoricalChart-Dhq0ZDNw.js";import"./useSize-DND3t0aL.js";import"./Skeleton-C7BJEIB6.js";import"./index-D2xkBgQN.js";import"./CloseOutlined-Bs9BTzBM.js";import"./EllipsisOutlined-BD0YvPch.js";import"./index-WMb-X793.js";import"./Overflow-Cjb5NB4R.js";import"./useMergedState-CSfwPUM-.js";function W(){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:e.jsx("path",{d:"M10 7L15.5556 12H12.2222V16H7.77778V12H4.44444L10 7ZM17.7778 2C18.3671 2 18.9324 2.21071 19.3491 2.58579C19.7659 2.96086 20 3.46957 20 4V18C20 18.5304 19.7659 19.0391 19.3491 19.4142C18.9324 19.7893 18.3671 20 17.7778 20H2.22222C1.63285 20 1.06762 19.7893 0.650874 19.4142C0.234126 19.0391 0 18.5304 0 18V4C0 3.46957 0.234126 2.96086 0.650874 2.58579C1.06762 2.21071 1.63285 2 2.22222 2H6.86667C7.33333 0.84 8.55556 0 10 0C11.4444 0 12.6667 0.84 13.1333 2H17.7778ZM10 2C9.70532 2 9.4227 2.10536 9.21433 2.29289C9.00595 2.48043 8.88889 2.73478 8.88889 3C8.88889 3.26522 9.00595 3.51957 9.21433 3.70711C9.4227 3.89464 9.70532 4 10 4C10.2947 4 10.5773 3.89464 10.7857 3.70711C10.994 3.51957 11.1111 3.26522 11.1111 3C11.1111 2.73478 10.994 2.48043 10.7857 2.29289C10.5773 2.10536 10.2947 2 10 2ZM4.44444 6V4H2.22222V18H17.7778V4H15.5556V6H4.44444Z",fill:"#5B9BEC"})})}function F(){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"20",viewBox:"0 0 16 20",fill:"none",children:e.jsx("path",{d:"M8 0C9.98912 0 11.8968 0.737498 13.3033 2.05025C14.7098 3.36301 15.5 5.14348 15.5 7C15.5 9.38 14.225 11.47 12.2857 12.74V15C12.2857 15.2652 12.1728 15.5196 11.9719 15.7071C11.771 15.8946 11.4984 16 11.2143 16H4.78571C4.50155 16 4.22903 15.8946 4.0281 15.7071C3.82717 15.5196 3.71429 15.2652 3.71429 15V12.74C1.775 11.47 0.5 9.38 0.5 7C0.5 5.14348 1.29018 3.36301 2.6967 2.05025C4.10322 0.737498 6.01088 0 8 0ZM4.78571 19V18H11.2143V19C11.2143 19.2652 11.1014 19.5196 10.9005 19.7071C10.6995 19.8946 10.427 20 10.1429 20H5.85714C5.57298 20 5.30046 19.8946 5.09953 19.7071C4.8986 19.5196 4.78571 19.2652 4.78571 19ZM8 2C6.5792 2 5.21659 2.52678 4.21193 3.46447C3.20727 4.40215 2.64286 5.67392 2.64286 7C2.64286 9.05 3.96071 10.81 5.85714 11.58V14H10.1429V11.58C12.0393 10.81 13.3571 9.05 13.3571 7C13.3571 5.67392 12.7927 4.40215 11.7881 3.46447C10.7834 2.52678 9.4208 2 8 2Z",fill:"#5B9BEC"})})}function q(){return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 20 20",fill:"none",children:[e.jsx("path",{d:"M10 1C7.23858 1 5 3.23858 5 6C5 7.64777 5.78555 9.11777 7 10.0798V13C7 13.5523 7.44772 14 8 14H12C12.5523 14 13 13.5523 13 13V10.0798C14.2145 9.11777 15 7.64777 15 6C15 3.23858 12.7614 1 10 1Z",fill:"#5B9BEC"}),e.jsx("path",{d:"M7 15C7 14.4477 7.44772 14 8 14H12C12.5523 14 13 14.4477 13 15V16C13 17.1046 12.1046 18 11 18H9C7.89543 18 7 17.1046 7 16V15Z",fill:"#5B9BEC"}),e.jsx("circle",{cx:"10",cy:"6",r:"2",fill:"white"}),e.jsx("path",{d:"M9 17H11",stroke:"white",strokeWidth:"1",strokeLinecap:"round"})]})}function U(){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"20",viewBox:"0 0 16 20",fill:"none",children:e.jsx("path",{d:"M13 10V2H14.25V0H1.75V2H3V10L0.5 12V14H7V20H9V14H15.5V12L13 10ZM4 12L5.5 10.8V2H10.5V10.8L12 12H4Z",fill:"#5B9BEC"})})}function z(){return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[e.jsx("path",{d:"M18 2H2C1.44772 2 1 2.44772 1 3V17C1 17.5523 1.44772 18 2 18H18C18.5523 18 19 17.5523 19 17V3C19 2.44772 18.5523 2 18 2Z",stroke:"#5B9BEC",strokeWidth:"1.5"}),e.jsx("path",{d:"M4 10L7 13L10 10L13 7L16 10",stroke:"#5B9BEC",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("circle",{cx:"7",cy:"13",r:"1",fill:"#5B9BEC"}),e.jsx("circle",{cx:"10",cy:"10",r:"1",fill:"#5B9BEC"}),e.jsx("circle",{cx:"13",cy:"7",r:"1",fill:"#5B9BEC"}),e.jsx("path",{d:"M14 14L16 16",stroke:"#5B9BEC",strokeWidth:"1.5",strokeLinecap:"round"}),e.jsx("path",{d:"M16 14L14 16",stroke:"#5B9BEC",strokeWidth:"1.5",strokeLinecap:"round"})]})}function $(){return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 20 20",fill:"none",children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"grad1",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[e.jsx("stop",{offset:"0%",style:{stopColor:"#5B9BEC",stopOpacity:1}}),e.jsx("stop",{offset:"100%",style:{stopColor:"#5B9BEC",stopOpacity:1}})]})}),e.jsx("path",{d:"M10 2C5.58172 2 2 5.58172 2 10C2 14.4183 5.58172 18 10 18C14.4183 18 18 14.4183 18 10C18 5.58172 14.4183 2 10 2ZM1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10C19 14.9706 14.9706 19 10 19C5.02944 19 1 14.9706 1 10Z",fill:"#5B9BEC"}),e.jsx("path",{d:"M10 4L11.7961 7.52786L15.6085 8.1459L12.8042 10.9721L13.5267 14.8541L10 13L6.47329 14.8541L7.19577 10.9721L4.39155 8.1459L8.20389 7.52786L10 4Z",fill:"#5B9BEC"}),e.jsx("circle",{cx:"10",cy:"10",r:"2",fill:"#5B9BEC"}),e.jsx("path",{d:"M10 6V14M6 10H14",stroke:"#5B9BEC",strokeWidth:"0.5"})]})}function G(){return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[e.jsx("path",{d:"M10 1L12.7 6.5H17.5L13.75 10.5L15.45 16L10 13.1L4.55 16L6.25 10.5L2.5 6.5H7.3L10 1Z",fill:"#5B9BEC"}),e.jsx("path",{d:"M3 18H17M5 14H15",stroke:"#5B9BEC",strokeWidth:"2",strokeLinecap:"round"})]})}function X(){return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 20 20",fill:"none",children:[e.jsx("circle",{cx:"10",cy:"10",r:"8",fill:"#5B9BEC"}),e.jsx("path",{d:"M6 10L9 13L14 7",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("circle",{cx:"7",cy:"7",r:"1",fill:"white"}),e.jsx("circle",{cx:"13",cy:"13",r:"1",fill:"white"}),e.jsx("path",{d:"M4 16C4 16 6 14 10 14C14 14 16 16 16 16",stroke:"white",strokeWidth:"1",strokeLinecap:"round"})]})}function p(){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"24",viewBox:"0 0 20 24",fill:"none",children:e.jsx("path",{d:"M18.57 15.289L20 13.6445L18.57 12L15 16.1055L6.43 6.25L10 2.1445L8.57 0.5L7.14 2.1445L5.71 0.5L3.57 2.961L2.14 1.3165L0.71 2.961L2.14 4.6055L0 7.0665L1.43 8.711L0 10.3555L1.43 12L5 7.8945L13.57 17.75L10 21.8555L11.43 23.5L12.86 21.8555L14.29 23.5L16.43 21.039L17.86 22.6835L19.29 21.039L17.86 19.3945L20 16.9335L18.57 15.289Z",fill:"#5B9BEC"})})}function K(){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:e.jsx("path",{d:"M6 5C6.53043 5 7.03914 5.21071 7.41421 5.58579C7.78929 5.96086 8 6.46957 8 7V12C8 12.5304 7.78929 13.0391 7.41421 13.4142C7.03914 13.7893 6.53043 14 6 14C5.46957 14 4.96086 13.7893 4.58579 13.4142C4.21071 13.0391 4 12.5304 4 12V7C4 6.46957 4.21071 5.96086 4.58579 5.58579C4.96086 5.21071 5.46957 5 6 5ZM12 12C12 14.97 9.84 17.44 7 17.92V20H5V17.92C2.16 17.44 0 14.97 0 12H2C2 13.0609 2.42143 14.0783 3.17157 14.8284C3.92172 15.5786 4.93913 16 6 16C7.06087 16 8.07828 15.5786 8.82843 14.8284C9.57857 14.0783 10 13.0609 10 12H12ZM19.41 7.41L15.17 11.66L16.18 8H12C11.4696 8 10.9609 7.78929 10.5858 7.41421C10.2107 7.03914 10 6.53043 10 6V2C10 1.46957 10.2107 0.960859 10.5858 0.585786C10.9609 0.210714 11.4696 0 12 0H18C18.5304 0 19.0391 0.210714 19.4142 0.585786C19.7893 0.960859 20 1.46957 20 2V6C20 6.55 19.78 7.05 19.41 7.41Z",fill:"#5B9BEC"})})}function Q(){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:e.jsx("path",{d:"M20 18.75V16.25H5.55556V18.75H20ZM20 11.25V8.75H5.55556V11.25H20ZM5.55556 3.75H20V1.25H5.55556V3.75ZM1.11111 1.25V3.75H3.33333V1.25H1.11111ZM0 1.25C0 0.918479 0.117063 0.600537 0.325437 0.366117C0.533811 0.131696 0.816426 0 1.11111 0H3.33333C3.62802 0 3.91063 0.131696 4.11901 0.366117C4.32738 0.600537 4.44444 0.918479 4.44444 1.25V3.75C4.44444 4.08152 4.32738 4.39946 4.11901 4.63388C3.91063 4.8683 3.62802 5 3.33333 5H1.11111C0.816426 5 0.533811 4.8683 0.325437 4.63388C0.117063 4.39946 0 4.08152 0 3.75V1.25ZM1.11111 8.75V11.25H3.33333V8.75H1.11111ZM0 8.75C0 8.41848 0.117063 8.10054 0.325437 7.86612C0.533811 7.6317 0.816426 7.5 1.11111 7.5H3.33333C3.62802 7.5 3.91063 7.6317 4.11901 7.86612C4.32738 8.10054 4.44444 8.41848 4.44444 8.75V11.25C4.44444 11.5815 4.32738 11.8995 4.11901 12.1339C3.91063 12.3683 3.62802 12.5 3.33333 12.5H1.11111C0.816426 12.5 0.533811 12.3683 0.325437 12.1339C0.117063 11.8995 0 11.5815 0 11.25V8.75ZM1.11111 16.25V18.75H3.33333V16.25H1.11111ZM0 16.25C0 15.9185 0.117063 15.6005 0.325437 15.3661C0.533811 15.1317 0.816426 15 1.11111 15H3.33333C3.62802 15 3.91063 15.1317 4.11901 15.3661C4.32738 15.6005 4.44444 15.9185 4.44444 16.25V18.75C4.44444 19.0815 4.32738 19.3995 4.11901 19.6339C3.91063 19.8683 3.62802 20 3.33333 20H1.11111C0.816426 20 0.533811 19.8683 0.325437 19.6339C0.117063 19.3995 0 19.0815 0 18.75V16.25Z",fill:"#5B9BEC"})})}function o({title:s="Agentni Rivojlantirish Imkoniyatlari",content:n=[],Icon:i}){return e.jsxs("div",{className:"bg-[#2A2A2D] rounded-xl p-4 min-h-[289px] w-full",children:[e.jsxs("div",{className:"flex items-center justify-start gap-2 mb-5",children:[i&&e.jsx(i,{}),e.jsx("p",{className:"text-white text-[16px]",children:s})]}),e.jsx("div",{className:"text-white text-sm",dangerouslySetInnerHTML:{__html:(n==null?void 0:n.join("<br />"))||""}})]})}function a({title:s,data:n}){return e.jsx("div",{className:"bg-[#2A2A2D] rounded-xl p-4 w-full",children:e.jsxs("div",{className:"text-white text-[16px]",children:[s," ",n]})})}function Y({transcription:s}){const{t:n}=g();return s?e.jsx(d,{className:"mx-12 mb-6 bg-[#2a2a2d]",title:n("Transcription"),children:e.jsx("div",{className:"space-y-4",children:s.map((i,t)=>e.jsx("div",{className:"!mb-4 px-3 py-1 rounded-lg flex gap-3",children:e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"mt-1 text-sm",children:[e.jsxs("strong",{className:"text-base",children:[i.speaker==="customer"?n("Mijoz"):n("Operator"),":"]})," ",i.text]})})},t))})}):e.jsx(d,{className:"mx-12 mb-6 text-center bg-[#2a2a2d] text-gray-500",children:n("Transcription not found")})}function J({data:s,id:n}){const{t:i}=g(),[t,r]=V.useState(!1),x=y.API_ROOT,j=M.get(b),f=()=>{n&&(r(!0),fetch(`${x}api/audios/pdf/${n}/`,{method:"GET",headers:{Authorization:`Bearer ${j}`}}).then(l=>{if(!l.ok)throw new Error("Network response was not ok");return l.blob()}).then(l=>{const C=window.URL.createObjectURL(l),c=document.createElement("a");c.href=C,c.setAttribute("download",`audio-${n}.pdf`),document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(C),r(!1)}).catch(l=>{console.error("Download failed:",l),r(!1)}))},w=[{name:i("Score"),value:s.overall_performance_score},{name:i("Remaining"),value:100-s.overall_performance_score}],v=[{name:i("Score"),value:s.problem_handling_score},{name:i("Remaining"),value:100-s.problem_handling_score}],L=[{name:i("Score"),value:s.communication_skills_score},{name:i("Remaining"),value:100-s.communication_skills_score}],B=[{name:i("Score"),value:s.customer_management_score},{name:i("Remaining"),value:100-s.customer_management_score}],H=[{name:i("Score"),value:s.problem_handling_score},{name:i("Remaining"),value:100-s.problem_handling_score}],_=[{metric:i("Overall Score"),series:s==null?void 0:s.overall_performance_score},{metric:i("Communication"),series:s==null?void 0:s.communication_skills_score},{metric:i("Customer Management"),series:s==null?void 0:s.customer_management_score},{metric:i("Problem Handling"),series:s==null?void 0:s.problem_handling_score},{metric:i("Protocol Adherence"),series:s==null?void 0:s.protocol_adherence_score}],h=k();return e.jsxs("div",{className:"bg-[#1A1A1D] w-full h-full flex flex-col overflow-y-auto  ",children:[e.jsxs("div",{className:"mb-6 flex mt-4 px-12 items-center gap-2",children:[e.jsx("div",{className:"cursor-pointer",onClick:()=>h("/"),children:e.jsx(N,{isActive:!0})}),e.jsx(u,{}),e.jsx("span",{className:"font-medium cursor-pointer",onClick:()=>h(-1),children:i("Call centre")}),e.jsx(u,{}),e.jsx("span",{className:"font-medium cursor-pointer",onClick:()=>h(-1),children:i("Audios")})]}),e.jsxs("div",{className:"mb-6 px-12 mt-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:T,alt:"Audio file icon",width:40,height:40}),e.jsx("h4",{className:"text-white text-3xl font-semibold",children:s==null?void 0:s.conversation_title})]}),n&&e.jsx("div",{className:"flex items-center text-center",children:e.jsxs("button",{onClick:f,disabled:t,className:"bg-[#5b9bec] shadow-none border-0 text-sm h-10 flex items-center justify-center p-2 px-3 rounded-md gap-2",children:[e.jsx(O,{width:24,height:24,className:"[&_svg]:w-[32px] [&_svg]:h-[32px]"}),i(t?"Downloading...":"Download")]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6 mx-12 mt-4",children:[e.jsx(m,{data:w,colorEmpty:"#87888C",colorFilled:"#0B72FC",title:i("Overall Score"),Icon:Z}),e.jsx(m,{data:v,colorEmpty:"#87888C",colorFilled:"#E04BC5",title:i("Problem Handling"),Icon:A}),e.jsx(m,{data:L,colorEmpty:"#87888C",colorFilled:"#4B54D1",title:i("Communication"),Icon:R}),e.jsx(m,{data:B,colorEmpty:"#87888C",colorFilled:"#8B7DDF",title:i("Customer Management"),Icon:D}),e.jsx(m,{data:H,colorEmpty:"#87888C",colorFilled:"#0BA5EC",title:i("Protocol Adherence"),Icon:S})]}),e.jsx("div",{className:"my-8 mx-12",children:e.jsx(P,{title:i("Performance Metrics"),dataRadar:_})}),e.jsx("div",{className:"mx-12 mt-4  flex gap-6",children:e.jsx(a,{title:i("Resolved-Agent")})}),e.jsxs("div",{className:"mx-12 my-6  flex gap-6",children:[e.jsx(o,{title:i("Agentni Rivojlantirish Imkoniyatlari"),content:s==null?void 0:s.agent_development_opportunities,Icon:W}),e.jsx(o,{title:i("Trening uchun misollar"),content:s==null?void 0:s.examples_for_training,Icon:p})]}),e.jsxs("div",{className:"mx-12 mt-4  flex gap-6",children:[e.jsx(a,{title:i("Caller emotion:"),data:s.caller_emotion}),e.jsx(a,{title:i("Resolution Status:"),data:s.resolution_status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6 mx-12 mt-6",children:[e.jsx(o,{title:i("Trening uchun misollar"),content:s.examples_for_training,Icon:p}),e.jsx(o,{title:i("Resolution quality"),content:[s.resolution_quality],Icon:$}),e.jsx(o,{title:i("Process improvement suggestions"),content:s.process_improvement_suggestions,Icon:z}),e.jsx(o,{title:i("Resource or tool recommendations"),content:s.resource_or_tool_recommendations,Icon:G}),e.jsx(o,{title:i("Notable techniques"),content:s.notable_techniques,Icon:q}),e.jsx(o,{title:i("Successful interaction strategies"),content:s.successful_interaction_strategies,Icon:X})]}),e.jsx("div",{className:"mx-12 mt-8  flex gap-6",children:e.jsx(a,{title:i("Summary of the text")})}),e.jsxs("div",{className:"grid grid-cols-2 gap-6 mx-12 mt-6 mb-8 ",children:[e.jsx(o,{title:i("Suhbat mavzusi"),content:[s==null?void 0:s.conversation_title],Icon:K}),e.jsx(o,{title:i("Asosiy g'oyalar"),content:[s==null?void 0:s.main_contents],Icon:F}),e.jsx(o,{title:i("Muhim nuqtalar"),content:s==null?void 0:s.essential_points,Icon:U}),e.jsx(o,{title:i("Xulosa"),content:[s==null?void 0:s.conclusion],Icon:Q})]}),e.jsx(Y,{transcription:s.transcription})]})}const p1=()=>{var i,t,r,x;const{audioId:s}=E(),{data:n}=I(s);return e.jsx("div",{children:n&&e.jsx(J,{data:(t=(i=n==null?void 0:n.data)==null?void 0:i[0])==null?void 0:t.analysed_data,id:(x=(r=n==null?void 0:n.data)==null?void 0:r[0])==null?void 0:x.id})})};export{p1 as default};
