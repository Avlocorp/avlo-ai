import{n as de,r as d,C as X,h as oe,aA as fe,z as W,u as Y,x as Q,aL as me,aM as re,j as e,t as R,y as L,aN as pe,aq as he,aO as xe,aP as ge,ak as $,aQ as ue,aR as se,aS as ye,aT as be,aU as Ce,aV as je,B as ve,aW as ke}from"./index-DPJpM76q.js";import{d as U}from"./dayjs.min-BgEnJCg9.js";import{L as Se}from"./index-BCC9mltJ.js";import{u as Ne}from"./index-Zt3EvXCC.js";import{T as le}from"./TextArea-DlB-ovtE.js";import{B as O,c as we}from"./button-lO7XdXyl.js";import{A as Be,M as K}from"./index-BvICwX4g.js";import{X as J,S as Te}from"./x-DVMwgM0_.js";import{I as D}from"./index-ZaNRnAce.js";import{a as ae}from"./ExclamationCircleFilled-C-Rs3AQT.js";import{u as Pe}from"./useMergedState-CSfwPUM-.js";import{o as Me}from"./useSize-DND3t0aL.js";import{P as ze,g as ee,a as Ee}from"./index-DSan05hS.js";import{m as Oe}from"./index-CEm8Loj7.js";import{s as G}from"./index-DFL1M-DA.js";import{S as H}from"./useBreakpoint-CymGIX01.js";import{P as Ie}from"./Pagination-ZTiU5Rel.js";import{T as _e}from"./index-D2xkBgQN.js";import{C as V}from"./index-BOkOjOHF.js";import{T as te}from"./trending-up-ZQp6ToFz.js";import{D as Le}from"./index-dE2Nuwmx.js";import"./index-Bu88h86I.js";import"./index-BV9ecpN8.js";import"./PurePanel-DmuLXhi4.js";import"./index-WMb-X793.js";import"./EllipsisOutlined-BD0YvPch.js";import"./Overflow-Cjb5NB4R.js";import"./roundedArrow-ySD6W0-A.js";import"./context-C9R0sSvt.js";import"./index--7a_W_9H.js";import"./collapse-BbEVqHco.js";import"./index-Da3FNLPO.js";import"./InfoCircleFilled-CHTLRjTa.js";import"./CloseOutlined-Bs9BTzBM.js";import"./SearchOutlined-odOqp1gV.js";import"./context-CMJBuI1T.js";import"./Skeleton-C7BJEIB6.js";import"./useIcons-DvB46hj-.js";import"./CheckOutlined-C7HtwBlR.js";import"./DownOutlined-C_92woN3.js";import"./responsiveObserver-C7S2khFd.js";const $e=t=>{const{componentCls:i,iconCls:f,antCls:l,zIndexPopup:o,colorText:j,colorWarning:y,marginXXS:m,marginXS:h,fontSize:c,fontWeightStrong:S,colorTextHeading:N}=t;return{[i]:{zIndex:o,[`&${l}-popover`]:{fontSize:c},[`${i}-message`]:{marginBottom:h,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${i}-message-icon ${f}`]:{color:y,fontSize:c,lineHeight:1,marginInlineEnd:h},[`${i}-title`]:{fontWeight:S,color:N,"&:only-child":{fontWeight:"normal"}},[`${i}-description`]:{marginTop:m,color:j}},[`${i}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:h}}}}},Ae=t=>{const{zIndexPopupBase:i}=t;return{zIndexPopup:i+60}},ne=de("Popconfirm",t=>$e(t),Ae,{resetStyle:!1});var Re=function(t,i){var f={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&i.indexOf(l)<0&&(f[l]=t[l]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(t);o<l.length;o++)i.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(t,l[o])&&(f[l[o]]=t[l[o]]);return f};const ie=t=>{const{prefixCls:i,okButtonProps:f,cancelButtonProps:l,title:o,description:j,cancelText:y,okText:m,okType:h="primary",icon:c=d.createElement(ae,null),showCancel:S=!0,close:N,onConfirm:u,onCancel:P,onPopupClick:M}=t,{getPrefixCls:p}=d.useContext(X),[w]=Oe("Popconfirm",fe.Popconfirm),z=ee(o),B=ee(j);return d.createElement("div",{className:`${i}-inner-content`,onClick:M},d.createElement("div",{className:`${i}-message`},c&&d.createElement("span",{className:`${i}-message-icon`},c),d.createElement("div",{className:`${i}-message-text`},z&&d.createElement("div",{className:`${i}-title`},z),B&&d.createElement("div",{className:`${i}-description`},B))),d.createElement("div",{className:`${i}-buttons`},S&&d.createElement(O,Object.assign({onClick:P,size:"small"},l),y||(w==null?void 0:w.cancelText)),d.createElement(Be,{buttonProps:Object.assign(Object.assign({size:"small"},we(h)),f),actionFn:u,close:N,prefixCls:p("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},m||(w==null?void 0:w.okText))))},De=t=>{const{prefixCls:i,placement:f,className:l,style:o}=t,j=Re(t,["prefixCls","placement","className","style"]),{getPrefixCls:y}=d.useContext(X),m=y("popconfirm",i),[h]=ne(m);return h(d.createElement(ze,{placement:f,className:oe(m,l),style:o,content:d.createElement(ie,Object.assign({prefixCls:m},j))}))};var We=function(t,i){var f={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&i.indexOf(l)<0&&(f[l]=t[l]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(t);o<l.length;o++)i.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(t,l[o])&&(f[l[o]]=t[l[o]]);return f};const Ye=d.forwardRef((t,i)=>{var f,l;const{prefixCls:o,placement:j="top",trigger:y="click",okType:m="primary",icon:h=d.createElement(ae,null),children:c,overlayClassName:S,onOpenChange:N,onVisibleChange:u}=t,P=We(t,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange"]),{getPrefixCls:M}=d.useContext(X),[p,w]=Pe(!1,{value:(f=t.open)!==null&&f!==void 0?f:t.visible,defaultValue:(l=t.defaultOpen)!==null&&l!==void 0?l:t.defaultVisible}),z=(g,T)=>{w(g,!0),u==null||u(g),N==null||N(g,T)},B=g=>{z(!1,g)},I=g=>{var T;return(T=t.onConfirm)===null||T===void 0?void 0:T.call(void 0,g)},E=g=>{var T;z(!1,g),(T=t.onCancel)===null||T===void 0||T.call(void 0,g)},x=(g,T)=>{const{disabled:b=!1}=t;b||z(g,T)},r=M("popconfirm",o),v=oe(r,S),[C]=ne(r);return C(d.createElement(Ee,Object.assign({},Me(P,["title"]),{trigger:y,placement:j,onOpenChange:x,open:p,ref:i,overlayClassName:v,content:d.createElement(ie,Object.assign({okType:m,icon:h},t,{prefixCls:r,close:B,onConfirm:I,onCancel:E})),"data-popover-inject":!0}),c))}),ce=Ye;ce._InternalPanelDoNotUseOrYouWillBeFired=De;/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Ve=W("Grid3x3",Fe);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Qe=W("List",He);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],q=W("Plus",Ge);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Xe=W("SquarePen",qe);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Z=W("Trash2",Ke);function Je({refetchChecklist:t}){const[i,f]=d.useState(!1),[l,o]=d.useState(""),[j,y]=d.useState(""),[m,h]=d.useState([]),{t:c}=Y(),{theme:S}=Q(),[N,{isLoading:u}]=me(),[P]=re(),M=()=>{f(!1),o(""),y(""),h([])},p=()=>{h([...m,""])},w=(r,v)=>{const C=[...m];C[r]=v,h(C)},z=r=>{const v=m.filter((C,g)=>g!==r);h(v)},B=async()=>{if(!l.trim()){alert(c("Checklist name is required"));return}try{const v=(await N({name:l,description:j}).unwrap()).id,C=m.map(g=>g.trim()).filter(Boolean);(C==null?void 0:C.length)>0&&await Promise.all(C.map(g=>P({checklist_id:v,text:g}))),t(),M()}catch(r){console.error("Failed to create checklist and criteria:",r),alert(c("Error creating checklist and criteria"))}},I=()=>S==="dark"?{algorithm:L.darkAlgorithm,token:{colorPrimary:"#4338ca",borderRadius:8,colorBgContainer:"#374151",colorBgElevated:"#374151",colorBgLayout:"#1f2937",colorText:"#f3f4f6",colorTextSecondary:"#9ca3af",colorBorder:"#4b5563"}}:{algorithm:L.defaultAlgorithm,token:{colorPrimary:"#4338ca",borderRadius:8,colorBgContainer:"#ffffff",colorBgElevated:"#ffffff",colorBgLayout:"#f9fafb",colorText:"#111827",colorTextSecondary:"#6b7280",colorBorder:"#d1d5db"}},x=(()=>{const r=S==="dark";return{modalContent:{backgroundColor:r?"#374151":"#ffffff",color:r?"#f3f4f6":"#111827"},title:{color:r?"#f3f4f6":"#111827"},label:{color:r?"#d1d5db":"#374151"},emptyState:{backgroundColor:r?"#4b5563":"#f9fafb",borderColor:r?"#6b7280":"#e5e7eb",color:r?"#9ca3af":"#6b7280"},border:{borderColor:r?"#4b5563":"#e5e7eb"},primaryButton:{backgroundColor:r?"#4338ca":"#111827",borderColor:r?"#4338ca":"#111827",color:"#ffffff"},secondaryButton:{backgroundColor:"transparent",borderColor:r?"#6b7280":"#d1d5db",color:r?"#f3f4f6":"#374151"}}})();return e.jsx(R,{theme:I(),children:e.jsxs("div",{children:[e.jsxs(O,{type:"primary",onClick:()=>f(!0),className:"h-10 flex items-center gap-2",style:x.primaryButton,children:[e.jsx(q,{className:"w-4 h-4"}),e.jsx("p",{children:c("Create Checklist")})]}),e.jsx(K,{title:null,open:i,onCancel:M,footer:null,width:600,className:"checklist-modal",closeIcon:e.jsx(J,{className:"w-5 h-5",style:{color:S==="dark"?"#9ca3af":"#6b7280"}}),styles:{content:x.modalContent},children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-6",style:x.title,children:c("New Checklist")}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:x.label,children:c("Checklist Name")}),e.jsx(D,{value:l,onChange:r=>o(r.target.value),placeholder:c("Enter checklist name"),size:"large"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:x.label,children:c("Description")}),e.jsx(le,{value:j,onChange:r=>y(r.target.value),placeholder:c("Enter description"),rows:4,className:"resize-none"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("label",{className:"block text-sm font-medium",style:x.label,children:c("Criteria")}),e.jsxs(O,{size:"small",onClick:p,className:"flex items-center gap-1 h-8",style:x.primaryButton,children:[e.jsx(q,{className:"w-4 h-4"}),e.jsx("p",{children:c("Add Criterion")})]})]}),(m==null?void 0:m.length)===0?e.jsx("div",{className:"border rounded-lg p-8 text-center",style:{...x.emptyState,border:`1px solid ${x.emptyState.borderColor}`},children:e.jsx("p",{style:{color:x.emptyState.color},children:c('No criteria added yet. Click "Add Criterion" to get started.')})}):e.jsx("div",{className:"space-y-3",children:m.map((r,v)=>e.jsxs("div",{className:"flex items-center gap-3 py-2",children:[e.jsx(D,{value:r,onChange:C=>w(v,C.target.value),placeholder:c("Enter criterion text..."),className:"flex-1"}),e.jsx(O,{type:"text",size:"small",icon:e.jsx(Z,{className:"w-5 h-5",stroke:"#ef4444"}),onClick:()=>z(v),className:"hover:bg-red-50 dark:hover:bg-red-900/20"})]},v))})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 mt-8 pt-6 border-t",style:{borderTopColor:x.border.borderColor},children:[e.jsx(O,{onClick:M,className:"px-6",style:x.secondaryButton,children:c("Cancel")}),e.jsx(O,{onClick:B,loading:u,className:"flex items-center h-8",style:x.primaryButton,children:c("Save Checklist")})]})]})})]})})}function Ze({checklist_id:t,name:i,description:f,onUpdated:l}){const{t:o}=Y(),{theme:j}=Q(),[y,m]=d.useState(!1),[h,c]=d.useState(i||""),[S,N]=d.useState(f||""),[u,P]=d.useState([]),{data:M,isSuccess:p,refetch:w}=pe(t?{checklist_id:t}:he,{skip:!t}),[z]=xe(),[B]=ge(),[I]=re(),E=()=>j==="dark"?{algorithm:L.darkAlgorithm,token:{colorPrimary:"#4338ca",borderRadius:8,colorBgContainer:"#374151",colorBgElevated:"#374151",colorBgLayout:"#1f2937",colorText:"#f3f4f6",colorTextSecondary:"#9ca3af",colorBorder:"#4b5563"}}:{algorithm:L.defaultAlgorithm,token:{colorPrimary:"#4338ca",borderRadius:8,colorBgContainer:"#ffffff",colorBgElevated:"#ffffff",colorBgLayout:"#f9fafb",colorText:"#111827",colorTextSecondary:"#6b7280",colorBorder:"#d1d5db"}},r=(()=>{const a=j==="dark";return{modalContent:{backgroundColor:a?"#374151":"#ffffff",color:a?"#f3f4f6":"#111827"},title:{color:a?"#f3f4f6":"#111827",margin:"0 0 24px 0",fontSize:"20px",fontWeight:600},label:{color:a?"#f3f4f6":"#374151",fontWeight:500,marginBottom:"8px",display:"block"},emptyState:{backgroundColor:a?"#1f2937":"#f9fafb",border:`1px solid ${a?"#4b5563":"#e5e7eb"}`,color:a?"#9ca3af":"#6b7280",padding:"32px",textAlign:"center",borderRadius:"8px"},criteriaContainer:{display:"flex",flexDirection:"column",gap:"12px",maxHeight:"400px",overflowY:"auto",paddingRight:"16px"},criterionRow:{display:"flex",alignItems:"center",gap:"12px",padding:"8px 0"},primaryButton:{backgroundColor:a?"#4338ca":"#111827",borderColor:a?"#4338ca":"#111827",color:"#ffffff"},secondaryButton:{backgroundColor:"transparent",borderColor:a?"#6b7280":"#d1d5db",color:a?"#f3f4f6":"#374151"},footer:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"12px",marginTop:"32px",paddingTop:"24px",borderTop:`1px solid ${a?"#4b5563":"#e5e7eb"}`},spaceY:{display:"flex",flexDirection:"column",gap:"24px"},editButton:{color:a?"#9ca3af":"#6b7280"},editButtonHover:a?"text-gray-300 hover:text-gray-100":"text-gray-400 hover:text-gray-600",closeIcon:a?"text-gray-300 hover:text-gray-100":"text-gray-400 hover:text-gray-600",deleteButtonHover:a?"text-gray-300 hover:text-red-400":"text-gray-400 hover:text-red-600"}})();d.useEffect(()=>{y&&p&&M&&(c(i||""),N(f||""),P(M.data.map(a=>({id:a.id,text:a.text,isNew:!1}))),w())},[y,p,M,i,f]);const v=()=>m(!0),C=()=>{m(!1),c(""),N(""),P([])},g=(a,n)=>{const s=[...u];s[a]={...s[a],text:n},P(s)},T=async a=>{const n=u.find(s=>s.id===a);if(n!=null&&n.isNew){P(s=>s.filter(k=>k.id!==a));return}try{await B({criteria_id:a}).unwrap(),P(s=>s.filter(k=>k.id!==a)),$.success(o("Criterion deleted successfully.")),l==null||l()}catch(s){console.error("Error deleting criterion:",s),$.error(o("Failed to delete criterion."))}},b=()=>{P([...u,{id:Date.now(),text:"",isNew:!0}])},A=async()=>{if(!t){$.error(o("Checklist ID is missing."));return}try{await z({checklist_id:t,name:h,description:S}).unwrap();for(const a of u)a.isNew&&a.text.trim()&&await I({checklist_id:t,text:a.text}).unwrap();$.success(o("Checklist and criteria saved successfully!")),l==null||l(),C()}catch(a){console.error("Error saving checklist and criteria:",a),$.error(o("Failed to save checklist and criteria."))}};return e.jsx(R,{theme:E(),children:e.jsxs("div",{children:[e.jsx(O,{type:"text",size:"large",icon:e.jsx(Xe,{stroke:r.editButton.color,className:"w-4 h-4"}),onClick:v,className:r.editButtonHover}),e.jsx(K,{title:null,open:y,onCancel:C,footer:null,width:600,closeIcon:e.jsx(J,{className:`w-5 h-5 ${r.closeIcon}`}),className:"checklist-modal",styles:{content:r.modalContent,header:r.modalContent},children:e.jsxs("div",{className:"p-6 overflow-auto",style:r.modalContent,children:[e.jsx("h2",{className:"text-xl font-semibold mb-6",style:r.title,children:o("Edit Checklist")}),e.jsxs("div",{className:"space-y-6",style:r.spaceY,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:r.label,children:o("Checklist Name")}),e.jsx(D,{value:h,onChange:a=>c(a.target.value),placeholder:o("Enter checklist name"),size:"large"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:r.label,children:o("Description")}),e.jsx(le,{value:S,onChange:a=>N(a.target.value),placeholder:o("Enter description"),rows:4,className:"resize-none"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("label",{className:"block text-sm font-medium",style:r.label,children:o("Criteria")}),e.jsxs(O,{size:"small",onClick:b,className:"flex items-center gap-1 h-8",style:r.primaryButton,children:[e.jsx(q,{className:"w-4 h-4"}),e.jsx("p",{children:o("Add Criterion")})]})]}),(u==null?void 0:u.length)===0?e.jsx("div",{style:r.emptyState,children:e.jsx("p",{style:{margin:0},children:o('No criteria added yet. Click "Add Criterion" to get started.')})}):e.jsx("div",{style:r.criteriaContainer,children:u.map((a,n)=>e.jsxs("div",{style:r.criterionRow,children:[e.jsx(D,{value:a.text,onChange:s=>g(n,s.target.value),placeholder:o("Enter criterion text..."),style:{flex:1},disabled:!a.isNew}),e.jsx(O,{type:"text",size:"small",icon:e.jsx(Z,{className:"w-5 h-5",stroke:"#ef4444"}),onClick:()=>T(a.id),className:r.deleteButtonHover})]},`${a.id}-${n}`))})]})]}),e.jsxs("div",{style:r.footer,children:[e.jsx(O,{onClick:C,style:{padding:"0 24px"},children:o("Cancel")}),e.jsx(O,{type:"primary",onClick:A,style:{...r.primaryButton,padding:"0 24px"},children:o("Save Checklist")})]})]})})]})})}function Ue({id:t}){const[i,{isLoading:f}]=ue(),{refetch:l}=se(),{t:o}=Y(),j=async()=>{try{await i({checklist_id:t}).unwrap(),l(),$.success(o("Checklist successfully deleted"))}catch(m){const h=typeof(m==null?void 0:m.data.error)=="string"?m==null?void 0:m.data.error:o("Failed to delete checklist");$.error(h)}},y=()=>{G.info(o("Delete cancelled"))};return e.jsx(ce,{title:o("Delete the checklist"),description:o("Are you sure to delete this checklist?"),onConfirm:j,onCancel:y,okText:o("Yes"),cancelText:o("No"),children:e.jsx(O,{type:"text",size:"large",icon:e.jsx(Z,{stroke:"red",className:"w-4 h-4"}),loading:f,className:"text-gray-400 hover:text-red-600"})})}const et=()=>{var a,n;const{t}=Y(),{theme:i}=Q(),[f,l]=d.useState(!1),[o,j]=d.useState(""),[y,m]=d.useState("pipeline-stages"),[h,c]=d.useState(null),[S,N]=d.useState(1),[u,P]=d.useState(10),M=Ne(o,500),{data:p,isLoading:w,refetch:z}=se(),{data:B,isLoading:I,refetch:E}=ye({search:M,page:S,per_page:u}),[x]=be(),r=async(s,k)=>{c(k);try{await x({checklist_id:s,statusId:k}).unwrap(),G.success(t("Checklist successfully updated!")),E()}catch{G.error(t("Failed to update checklist."))}finally{c(null)}},v=()=>l(!0),C=()=>{l(!1),j("")},g=()=>i==="dark"?{algorithm:L.darkAlgorithm,token:{colorPrimary:"#4338ca",borderRadius:8,colorBgContainer:"#374151",colorBgElevated:"#374151",colorBgLayout:"#1f2937",colorText:"#f3f4f6",colorTextSecondary:"#9ca3af",colorBorder:"#4b5563"}}:{algorithm:L.defaultAlgorithm,token:{colorPrimary:"#4338ca",borderRadius:8,colorBgContainer:"#ffffff",colorBgElevated:"#ffffff",colorBgLayout:"#f9fafb",colorText:"#111827",colorTextSecondary:"#6b7280",colorBorder:"#d1d5db"}},b=(()=>{const s=i==="dark";return{tabContent:{backgroundColor:s?"#374151":"#ffffff",color:s?"#f3f4f6":"#111827"},statusCard:{backgroundColor:s?"#4b5563":"#ffffff",borderColor:s?"#6b7280":"#d1d5db",color:s?"#f3f4f6":"#111827"},checklistCard:{backgroundColor:s?"#4b5563":"#ffffff",borderColor:s?"#6b7280":"#d1d5db",color:s?"#f3f4f6":"#111827",boxShadow:s?"0 1px 3px 0 rgba(0, 0, 0, 0.3), 0 1px 2px 0 rgba(0, 0, 0, 0.2)":"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)"},loadingText:{color:s?"#9ca3af":"#6b7280"},emptyText:{color:s?"#9ca3af":"#6b7280"},description:{color:s?"#9ca3af":"#6b7280"},criteriaBox:{backgroundColor:s?"#6b7280":"#f3f4f6",color:s?"#f3f4f6":"#111827"}}})(),A=[{key:"pipeline-stages",label:e.jsxs("span",{className:"flex items-center gap-2 px-4",children:[e.jsx(Qe,{className:"w-4 h-4"})," ",t("Pipeline Stages")]}),children:e.jsx("div",{className:"border rounded-md p-4 overflow-y-auto mt-3",style:b.tabContent,children:I?e.jsx("div",{className:"text-center",style:b.loadingText,children:t("Loading statuses...")}):(a=B==null?void 0:B.data)!=null&&a.length?e.jsxs(e.Fragment,{children:[B.data.map(s=>{var k;return e.jsxs("div",{className:"mb-4 border p-3 rounded-md flex justify-between items-center",style:b.statusCard,children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-base font-semibold",style:{color:b.statusCard.color},children:s.name}),e.jsxs("div",{style:b.description,children:[t("Assigned to"),": ",s.description]})]}),e.jsx(H,{className:"min-w-[200px]",placeholder:t("Select Checklist"),loading:w||h===s.id,value:s.checklist_id||void 0,options:(k=p==null?void 0:p.data)==null?void 0:k.map(_=>({label:_.name,value:_.id})),onChange:_=>r(_,s.id)})]},s.id)}),e.jsx("div",{className:"flex justify-center mt-4",children:e.jsx(Ie,{current:S,pageSize:u,total:B.all_data,onChange:(s,k)=>{N(s),P(k)},showSizeChanger:!0})})]}):e.jsx("div",{className:"text-center",style:b.emptyText,children:t("No checklists found. Please create a new one.")})})},{key:"checklists",label:e.jsxs("span",{className:"flex items-center gap-2 px-4",children:[e.jsx(Ve,{className:"w-4 h-4"})," ",t("Checklists")]}),children:e.jsx("div",{className:"border rounded-md p-4 overflow-y-auto grid grid-cols-1 md:grid-cols-2 gap-6 mt-3",style:b.tabContent,children:w?e.jsx("div",{style:b.loadingText,children:t("Loading checklists...")}):(n=p==null?void 0:p.data)!=null&&n.length?p.data.map(s=>e.jsxs("div",{className:"rounded-lg p-6 hover:shadow-md transition",style:{...b.checklistCard,border:`1px solid ${b.checklistCard.borderColor}`},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-xl font-semibold",style:{color:b.checklistCard.color},children:s.name}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(Ze,{checklist_id:s.id,name:s.name,description:s.description,onUpdated:z}),e.jsx(Ue,{id:s.id})]})]}),e.jsx("p",{className:"text-sm",style:b.description,children:s.description}),e.jsxs("div",{className:"mt-2 flex justify-between",children:[e.jsx("div",{style:{color:b.checklistCard.color},children:t("Criteria")}),e.jsxs("div",{className:"flex items-center rounded-lg p-2 h-[22px]",style:b.criteriaBox,children:[s.criteria_count," ",t("items")]})]})]},s.id)):e.jsx("div",{className:"text-center",style:b.emptyText,children:t("No checklists available.")})})}];return e.jsx(R,{theme:g(),children:e.jsxs("div",{children:[e.jsx(O,{icon:e.jsx(Ce,{className:"w-4 h-4"}),onClick:v,className:"flex items-center gap-2",children:t("Manage Checklists")}),e.jsx(K,{title:t("Manage Checklists"),open:f,onCancel:C,centered:!0,footer:null,width:1e3,closeIcon:e.jsx(J,{className:"w-6 h-6 text-gray-400"}),children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between gap-4",children:[e.jsx(D,{placeholder:t("Search checklists..."),value:o,onChange:s=>j(s.target.value),prefix:e.jsx(Te,{className:"w-4 h-4 text-gray-400"}),className:"w-full h-10",size:"large"}),e.jsx(Je,{refetchChecklist:z})]}),e.jsx(_e,{activeKey:y,onChange:m,items:A,size:"large",tabBarStyle:{padding:"0 24px",background:i==="dark"?"#374151":"white",color:i==="dark"?"#f3f4f6":"#111827"}})]})})]})})},{RangePicker:tt}=Le,{Option:ot}=H;function Vt(){var v,C,g,T,b,A,a;const{t}=Y(),{theme:i}=Q(),[f,l]=d.useState(),[o,j]=d.useState(),[y,m]=d.useState([U("2025-04-17"),U("2025-05-28")]),h=i==="dark",{data:c,isLoading:S,error:N}=je({}),{data:u,isLoading:P,error:M}=ve({page:1,per_page:500,search:""});d.useEffect(()=>{var n;(n=c==null?void 0:c.data)!=null&&n.length&&!f&&l(c.data[0].id)},[c,f]);const{data:p,isLoading:w,error:z}=ke({checklist_id:f,start_date:y[0].format("YYYY-MM-DD"),end_date:y[1].format("YYYY-MM-DD"),...o!=null?{operator_id:o}:{}},{skip:!f,refetchOnMountOrArgChange:!0}),B=()=>h?{algorithm:L.darkAlgorithm,token:{colorPrimary:"#4338ca",borderRadius:8,colorBgContainer:"#374151",colorBgElevated:"#374151",colorBgLayout:"#1f2937",colorText:"#f3f4f6",colorTextSecondary:"#9ca3af",colorBorder:"#4b5563"}}:{algorithm:L.defaultAlgorithm,token:{colorPrimary:"#4338ca",borderRadius:8,colorBgContainer:"#ffffff",colorBgElevated:"#ffffff",colorBgLayout:"#f9fafb",colorText:"#111827",colorTextSecondary:"#6b7280",colorBorder:"#d1d5db"}},I={minHeight:"100vh",backgroundColor:h?"#1f2937":"#f9fafb",color:h?"#f3f4f6":"#111827",padding:"20px 32px",transition:"background-color 0.3s, color 0.3s"},E={color:h?"#f3f4f6":"#111827"},x={color:h?"#9ca3af":"#6b7280"},r={backgroundColor:h?"#374151":"#ffffff",borderColor:h?"#4b5563":"#d1d5db",transition:"background-color 0.3s, border-color 0.3s"};return N||M||z?e.jsx(R,{theme:B(),children:e.jsx("div",{style:I,children:e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"400px"},children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{color:"#dc2626",fontSize:"1.125rem",marginBottom:"8px"},children:"Error loading data"}),e.jsx("p",{style:x,children:"Please try refreshing the page"})]})})})}):e.jsxs(R,{theme:B(),children:[e.jsx("div",{style:I,children:e.jsxs("div",{style:{maxWidth:"none",margin:"0 auto"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"32px",alignItems:"flex-start"},children:[e.jsxs("div",{children:[e.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"8px",margin:0,...E},children:t("QA Checklist Management")}),e.jsx("p",{style:{margin:0,...x},children:t("Monitor sales call compliance and track performance across your team")})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[e.jsx(Se,{}),e.jsx(et,{})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px",gap:"16px",padding:"16px 0"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"8px",width:"33.333333%"},children:[e.jsx("span",{style:{fontSize:"0.875rem",textAlign:"start",...x},children:t("Date Range")}),e.jsx(tt,{value:y,onChange:n=>{n&&n[0]&&n[1]&&m([n[0],n[1]])},format:"MMM DD, YYYY",style:{width:"100%",height:"40px"}})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",width:"33.333333%"},children:[e.jsx("span",{style:{fontSize:"0.875rem",...x},children:t("SDR")}),e.jsx(H,{allowClear:!0,style:{height:"40px"},showSearch:!0,placeholder:t("Select a person"),optionFilterProp:"label",value:o,onChange:n=>j(n),loading:P,options:((v=u==null?void 0:u.data)==null?void 0:v.filter(n=>n.name||n.last_name).map(n=>({value:n.id,label:`${n.name??""} ${n.last_name??""}`.trim()})))||[]})]})]}),e.jsxs("div",{style:{marginBottom:"32px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"24px"},children:[e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:"bold",marginBottom:"4px",margin:0,...E},children:((g=(C=c==null?void 0:c.data)==null?void 0:C.find(n=>n.id===f))==null?void 0:g.name)||t("Checklist")}),e.jsx("p",{style:{fontSize:"0.875rem",margin:0,...x},children:t("Description for selected checklist")})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[e.jsx("span",{style:{fontSize:"0.875rem",...x},children:t("Select Checklist")}),e.jsx(H,{showSearch:!0,style:{width:"192px",height:"40px"},placeholder:t("Select checklist"),value:f,onChange:n=>l(n),loading:S,children:(T=c==null?void 0:c.data)==null?void 0:T.map(n=>e.jsx(ot,{value:n.id,children:n.name},n.id))})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"24px",marginBottom:"32px"},children:[e.jsxs(V,{style:r,children:[e.jsx("div",{style:{fontSize:"0.875rem",marginBottom:"8px",...x},children:t("Overall Compliance")}),e.jsx("div",{style:{fontSize:"1.875rem",fontWeight:"bold",marginBottom:"8px",...E},children:(p==null?void 0:p.overall_compliance)||"81%"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",color:"#10b981",fontSize:"0.875rem"},children:[e.jsx(te,{size:16,style:{marginRight:"4px"}}),t("+4% from last month")]})]}),e.jsxs(V,{style:r,children:[e.jsx("div",{style:{fontSize:"0.875rem",marginBottom:"8px",...x},children:t("Calls Analyzed")}),e.jsx("div",{style:{fontSize:"1.875rem",fontWeight:"bold",marginBottom:"8px",...E},children:(p==null?void 0:p.total_calls)||"156"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",color:"#10b981",fontSize:"0.875rem"},children:[e.jsx(te,{size:16,style:{marginRight:"4px"}}),t("+23 from last week")]})]}),e.jsxs(V,{style:r,children:[e.jsx("div",{style:{fontSize:"0.875rem",marginBottom:"8px",...x},children:t("Top Performing Criterion")}),e.jsx("div",{style:{fontSize:"1.125rem",marginBottom:"4px",color:h?"#e5e7eb":"#111827"},children:((b=p==null?void 0:p.top_criterion)==null?void 0:b.name)||t("SDR Introduction")}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#10b981"},children:((A=p==null?void 0:p.top_criterion)==null?void 0:A.percentage)||"92%"})]})]})]}),e.jsxs(V,{style:r,children:[e.jsxs("div",{style:{marginBottom:"24px"},children:[e.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"8px",margin:0,...E},children:t("Compliance by Criterion")}),e.jsx("p",{style:{margin:0,...x},children:t("Performance breakdown for Discovery Call Checklist")})]}),w?e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"128px"},children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{width:"32px",height:"32px",border:"2px solid transparent",borderTop:"2px solid #4338ca",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 8px"}}),e.jsx("p",{style:x,children:"Loading metrics..."})]})}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:(a=p==null?void 0:p.criterias)==null?void 0:a.map((n,s)=>{const k=parseFloat(n.results.positive_percentage.toFixed(1)),_=parseFloat(n.results.negative_percentage.toFixed(1)),F=parseFloat(n.results.neutral_percentage.toFixed(1));return e.jsxs("div",{children:[e.jsx("div",{style:{marginBottom:"8px",fontWeight:600,fontSize:"16px",...E},children:n.text}),e.jsxs("div",{style:{position:"relative",height:"16px",borderRadius:"8px",overflow:"hidden",backgroundColor:h?"#4b5563":"#e5e7eb"},children:[e.jsx("div",{style:{position:"absolute",top:0,left:0,height:"100%",backgroundColor:"#10b981",transition:"all 0.3s",width:`${k}%`}}),e.jsx("div",{style:{position:"absolute",top:0,height:"100%",backgroundColor:"#ef4444",transition:"all 0.3s",left:`${k}%`,width:`${_}%`}}),e.jsx("div",{style:{position:"absolute",top:0,height:"100%",backgroundColor:"#fbbf24",transition:"all 0.3s",left:`${k+_}%`,width:`${F}%`}})]}),e.jsxs("div",{style:{display:"flex",fontSize:"0.875rem",marginTop:"4px",width:"100%",...x},children:[k>0&&e.jsxs("span",{style:{color:"#10b981",textAlign:"center",width:`${k}%`,minWidth:"60px"},children:[k,"% (",n.results.positive,")"]}),_>0&&e.jsxs("span",{style:{color:"#ef4444",textAlign:"center",width:`${_}%`,minWidth:"60px"},children:[_,"% (",n.results.negative,")"]}),F>0&&e.jsxs("span",{style:{color:"#fbbf24",textAlign:"center",width:`${F}%`,minWidth:"60px"},children:[F,"% (",n.results.neutral,")"]})]})]},s)})})]})]})}),e.jsx("style",{children:`
                    @keyframes spin {
                        0% { transform: rotate(0deg); }
                        100% { transform: rotate(360deg); }
                    }
                `})]})}export{Vt as default};
